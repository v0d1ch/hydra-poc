<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.17">
<link rel="alternate" type="application/rss+xml" href="/head-protocol/adr/rss.xml" title="Hydra: Head Protocol RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/head-protocol/adr/atom.xml" title="Hydra: Head Protocol Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="Hydra: Head Protocol" href="/head-protocol/opensearch.xml">
<script src="https://plausible.io/js/script.js" defer="defer" data-domain="hydra.family"></script><title data-rh="true">Test Results for hydra-node | Hydra: Head Protocol</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://input-output-hk.github.io/head-protocol/benchmarks/tests/hydra-node/hspec-results"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-benchmarks-current"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-benchmarks-current"><meta data-rh="true" property="og:title" content="Test Results for hydra-node | Hydra: Head Protocol"><meta data-rh="true" name="description" content="Hydra.SnapshotStrategy"><meta data-rh="true" property="og:description" content="Hydra.SnapshotStrategy"><link data-rh="true" rel="icon" href="/head-protocol/img/hydra.png"><link data-rh="true" rel="canonical" href="https://input-output-hk.github.io/head-protocol/benchmarks/tests/hydra-node/hspec-results"><link data-rh="true" rel="alternate" href="https://input-output-hk.github.io/head-protocol/benchmarks/tests/hydra-node/hspec-results" hreflang="en"><link data-rh="true" rel="alternate" href="https://input-output-hk.github.io/head-protocol/fr/benchmarks/tests/hydra-node/hspec-results" hreflang="fr"><link data-rh="true" rel="alternate" href="https://input-output-hk.github.io/head-protocol/ja/benchmarks/tests/hydra-node/hspec-results" hreflang="ja"><link data-rh="true" rel="alternate" href="https://input-output-hk.github.io/head-protocol/benchmarks/tests/hydra-node/hspec-results" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://YZTAF8IOVB-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/head-protocol/assets/css/styles.e05ca3b1.css">
<link rel="preload" href="/head-protocol/assets/js/runtime~main.1810b07d.js" as="script">
<link rel="preload" href="/head-protocol/assets/js/main.9425adb9.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/head-protocol/"><div class="navbar__logo"><img src="/head-protocol/img/hydra.png" alt="Hydra: Head Protocol" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/head-protocol/img/hydra-white.png" alt="Hydra: Head Protocol" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">Hydra: Head Protocol</b></a><a class="navbar__item navbar__link" href="/head-protocol/docs/getting-started">User Manual</a><a class="navbar__item navbar__link" href="/head-protocol/use-cases">Use Cases</a><a class="navbar__item navbar__link" href="/head-protocol/core-concepts">Core Concepts</a><a class="navbar__item navbar__link" href="/head-protocol/topologies">Topologies</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/head-protocol/benchmarks">Benchmarks</a><a class="navbar__item navbar__link" href="/head-protocol/api-reference">API Reference</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/input-output-hk/hydra" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" class="navbar__link"><span><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_dNtB"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg><span>English</span></span></a><ul class="dropdown__menu"><li><a href="/head-protocol/benchmarks/tests/hydra-node/hspec-results" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active">English</a></li><li><a href="/head-protocol/fr/benchmarks/tests/hydra-node/hspec-results" target="_self" rel="noopener noreferrer" class="dropdown__link">Français</a></li><li><a href="/head-protocol/ja/benchmarks/tests/hydra-node/hspec-results" target="_self" rel="noopener noreferrer" class="dropdown__link">日本語</a></li></ul></div><div class="toggle_S7eR toggle_TdHA toggleDisabled_f9M3"><div class="toggleButton_rCf9" role="button" tabindex="-1"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_v35p"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_nQuB"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></div><input type="checkbox" class="toggleScreenReader_g2nN" aria-label="Switch between dark and light mode (currently light mode)"></div><div class="searchBox_qEbK"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_CW9Y"><nav class="menu thin-scrollbar menu_SkdO"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/head-protocol/benchmarks/">Benchmarks</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/head-protocol/benchmarks/mt-benchmarks">Plutus Merkle-Tree Benchmarks</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/head-protocol/benchmarks/transaction-cost">Transactions Costs</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/head-protocol/benchmarks/tests/hydra-cluster/hspec-results">Test Results</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/head-protocol/benchmarks/tests/hydra-cluster/hspec-results">hydra-cluster</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/head-protocol/benchmarks/tests/hydra-node/hspec-results">hydra-node</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/head-protocol/benchmarks/tests/hydra-node/hspec-results">Test Results for hydra-node</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/head-protocol/benchmarks/tests/hydra-tui/hspec-results">hydra-tui</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/head-protocol/benchmarks/tests/plutus-cbor/hspec-results">plutus-cbor</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/head-protocol/benchmarks/tests/plutus-merkle-tree/hspec-results">plutus-merkle-tree</a></div></li></ul></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Xlws" aria-label="breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a class="breadcrumbs__link breadcrumbsItemLink_e5ie" href="/head-protocol/">🏠</a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link breadcrumbsItemLink_e5ie">Test Results</span></li><li class="breadcrumbs__item"><span class="breadcrumbs__link breadcrumbsItemLink_e5ie">hydra-node</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><a class="breadcrumbs__link breadcrumbsItemLink_e5ie" href="/head-protocol/benchmarks/tests/hydra-node/hspec-results">Test Results for hydra-node</a></li></ul></nav><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Test Results for hydra-node</h1><h2 class="anchor anchorWithStickyNavbar_mojV" id="hydrasnapshotstrategy">Hydra.SnapshotStrategy<a class="hash-link" href="#hydrasnapshotstrategy" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="new-snapshot-decision">New Snapshot Decision<a class="hash-link" href="#new-snapshot-decision" title="Direct link to heading">​</a></h3><ul><li><p>sends ReqSn given is leader and no snapshot in flight and there&#x27;s a seen tx</p></li><li><p>always ReqSn given head has 1 member and there&#x27;s a seen tx</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">90% ConfirmedSnapshot</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">10% InitialSnapshot</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li><li><p>there&#x27;s always a leader for every snapsnot number</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests; 16 discarded.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li><li><p>do not send ReqSn when we aren&#x27;t leader</p></li><li><p>do not send ReqSn when there is a snapshot in flight</p></li><li><p>do not send ReqSn when there&#x27;s no seen transactions</p></li></ul><h4 class="anchor anchorWithStickyNavbar_mojV" id="snapshot-emission">Snapshot Emission<a class="hash-link" href="#snapshot-emission" title="Direct link to heading">​</a></h4><ul><li>update seenSnapshot state when sending ReqSn</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="hydrapersistence">Hydra.Persistence<a class="hash-link" href="#hydrapersistence" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="persistenceincremental">PersistenceIncremental<a class="hash-link" href="#persistenceincremental" title="Direct link to heading">​</a></h3><ul><li><p>can handle empty files</p></li><li><p>is consistent after multiple append calls in presence of new-lines</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 200 tests:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">77.0% some item contains a new line</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 5.5% no items stored</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="persistence">Persistence<a class="hash-link" href="#persistence" title="Direct link to heading">​</a></h3><ul><li><p>can handle empty files</p></li><li><p>is consistent after save/load roundtrip</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="hydraparty">Hydra.Party<a class="hash-link" href="#hydraparty" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="ord">Ord<a class="hash-link" href="#ord" title="Direct link to heading">​</a></h3><ul><li><p>is transitive</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests; 469 discarded.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li><li><p>is reflexive</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li><li><p>is antisymmetric</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li><li><p>implements Eq and Ord correspondingly</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="json-encoding-of-party">JSON encoding of Party<a class="hash-link" href="#json-encoding-of-party" title="Direct link to heading">​</a></h3><ul><li><p>allows to encode values with aeson and read them back</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li><li><p>produces the same JSON as is found in golden/Party.json</p></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="hydraoptions">Hydra.Options<a class="hash-link" href="#hydraoptions" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="hydra-node-runoptions">Hydra Node RunOptions<a class="hash-link" href="#hydra-node-runoptions" title="Direct link to heading">​</a></h3><ul><li><p>validateRunOptions: using more than 4 parties should error out</p></li><li><p>validateRunOptions: loaded cardano keys needs to match with the hydra keys length</p></li><li><p>parses with default node-id set</p></li><li><p>parses --host option given valid IPv4 and IPv6 addresses</p></li><li><p>parses --port option given valid port number</p></li><li><p>parses --peer <code>&lt;host&gt;:&lt;port&gt;</code> option</p></li><li><p>does parse --peer given ipv6 addresses</p></li><li><p>parses --monitoring-port option given valid port number</p></li><li><p>parses --version flag as a parse error</p></li><li><p>parses --hydra-verification-key option as a filepath</p></li><li><p>parses --hydra-signing-key option as a filepath</p></li><li><p>parses --network-id option as a number</p></li><li><p>parses --mainnet flag</p></li><li><p>parses --node-socket as a filepath</p></li><li><p>parses --cardano-signing-key option as a filepath</p></li><li><p>parses --cardano-verification-key option as a filepath</p></li><li><p>parses --ledger-genesis-file as a filepath</p></li><li><p>parses --ledger-protocol-parameters-file as a filepath</p></li><li><p>parses --start-chain-from as a pair of slot number and block header hash</p></li><li><p>parses --hydra-scripts-tx-id as a tx id</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li></ul><h4 class="anchor anchorWithStickyNavbar_mojV" id="json-encoding-of-runoptions">JSON encoding of RunOptions<a class="hash-link" href="#json-encoding-of-runoptions" title="Direct link to heading">​</a></h4><ul><li><p>allows to encode values with aeson and read them back</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li><li><p>produces the same JSON as is found in golden/RunOptions.json</p></li><li><p>roundtrip parsing &amp; printing</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li></ul><h4 class="anchor anchorWithStickyNavbar_mojV" id="publish-scripts-sub-command">publish-scripts sub-command<a class="hash-link" href="#publish-scripts-sub-command" title="Direct link to heading">​</a></h4><ul><li>does not parse without any options</li><li>does not parse with some missing option (1)</li><li>does not parse with some missing option (2)</li><li>does not parse with some missing option (3)</li><li>should parse with all options</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="hydranode">Hydra.Node<a class="hash-link" href="#hydranode" title="Direct link to heading">​</a></h2><ul><li>emits a single ReqSn and AckSn as leader, even after multiple ReqTxs</li><li>rotates snapshot leaders</li><li>processes out-of-order AckSn</li><li>notifies client when postTx throws PostTxError</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="hydranetworkheartbeat">Hydra.Network.Heartbeat<a class="hash-link" href="#hydranetworkheartbeat" title="Direct link to heading">​</a></h2><ul><li>sends a heartbeat message with local host after 500 ms</li><li>sends Connected when Ping received from other peer</li><li>sends Connected when any message received from other party</li><li>do not send Connected on subsequent messages from already Connected party</li><li>sends Disconnected given no messages has been received from known party within twice heartbeat delay</li><li>stop sending heartbeat message given action sends a message</li><li>restart sending heartbeat messages given last message sent is older than heartbeat delay</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="hydranetwork">Hydra.Network<a class="hash-link" href="#hydranetwork" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="serialisation">Serialisation<a class="hash-link" href="#serialisation" title="Direct link to heading">​</a></h3><ul><li><p>can roundtrip CBOR encoding/decoding of Hydra Message</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li></ul><h4 class="anchor anchorWithStickyNavbar_mojV" id="json-encoding-of-message-simpletx">JSON encoding of (Message SimpleTx)<a class="hash-link" href="#json-encoding-of-message-simpletx" title="Direct link to heading">​</a></h4><ul><li><p>allows to encode values with aeson and read them back</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li><li><p>produces the same JSON as is found in golden/Message SimpleTx.json</p></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="ouroboros-network">Ouroboros Network<a class="hash-link" href="#ouroboros-network" title="Direct link to heading">​</a></h3><ul><li>broadcasts messages to single connected peer</li><li>broadcasts messages between 3 connected peers</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="hydramodel">Hydra.Model<a class="hash-link" href="#hydramodel" title="Direct link to heading">​</a></h2><ul><li><p>model should not generate 0 Ada UTxO</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 10000 tests.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li><li><p>model generates consistent traces</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 10000 tests.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li><li><p>implementation respects model</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Actions (1210 in total):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">61.40% NewTx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">19.83% Commit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 7.60% Seed</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 7.11% Init</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 4.05% Abort</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Transitions (1210 in total):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">61.40% Open -&gt; Open</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">18.10% Initial -&gt; Initial</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 7.60% Start -&gt; Idle</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 7.11% Idle -&gt; Initial</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 4.05% Initial -&gt; Final</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 1.74% Initial -&gt; Open</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li><li><p>check conflict-free liveness</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Actions (1221 in total):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">47.99% NewTx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">25.80% Commit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 8.19% Seed</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 8.11% Init</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 5.98% Abort</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 1.97% ObserveConfirmedTx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 1.97% Wait</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Transitions (1221 in total):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">51.92% Open -&gt; Open</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">23.83% Initial -&gt; Initial</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 8.19% Start -&gt; Idle</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 8.11% Idle -&gt; Initial</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 5.98% Initial -&gt; Final</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 1.97% Initial -&gt; Open</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="hydraloggingmonitoring">Hydra.Logging.Monitoring<a class="hash-link" href="#hydraloggingmonitoring" title="Direct link to heading">​</a></h2><ul><li>provides prometheus metrics from traces</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="hydralogging">Hydra.Logging<a class="hash-link" href="#hydralogging" title="Direct link to heading">​</a></h2><ul><li><p>dumps logs to stdout in JSON with timestamp</p></li><li><p>HydraLog</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 1 test.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="hydraledgersimple">Hydra.Ledger.Simple<a class="hash-link" href="#hydraledgersimple" title="Direct link to heading">​</a></h2><ul><li><p>validates only correctly built transactions</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="hydraledgercardano">Hydra.Ledger.Cardano<a class="hash-link" href="#hydraledgercardano" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="json-encoding-of-tx-babbageera">JSON encoding of (Tx BabbageEra)<a class="hash-link" href="#json-encoding-of-tx-babbageera" title="Direct link to heading">​</a></h3><ul><li><p>allows to encode values with aeson and read them back</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li><li><p>produces the same JSON as is found in golden/Tx BabbageEra.json</p></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="json-encoding-of-utxo-txout-ctxutxo-babbageera">JSON encoding of (UTxO&#x27; (TxOut CtxUTxO BabbageEra))<a class="hash-link" href="#json-encoding-of-utxo-txout-ctxutxo-babbageera" title="Direct link to heading">​</a></h3><ul><li><p>allows to encode values with aeson and read them back</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li><li><p>produces the same JSON as is found in golden/UTxO&#x27; (TxOut CtxUTxO BabbageEra).json</p></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="json-encoding-of-assetname">JSON encoding of AssetName<a class="hash-link" href="#json-encoding-of-assetname" title="Direct link to heading">​</a></h3><ul><li><p>allows to encode values with aeson and read them back</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li><li><p>produces the same JSON as is found in golden/AssetName.json</p></li><li><p>Same TxId before/after JSON encoding</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li><li><p>Roundtrip to and from Ledger</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li><li><p>CBOR encoding of Tx</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li><li><p>applies valid transaction</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li><li><p>applies valid transaction serialised from JSON</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li><li><p>should parse a Cardano.UTxO</p></li><li><p>should parse a Tx</p></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="evaluate-helpers">Evaluate helpers<a class="hash-link" href="#evaluate-helpers" title="Direct link to heading">​</a></h3><ul><li><p>slotNoFromUTCTime . slotNoToUTCTime === id</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="generators">Generators<a class="hash-link" href="#generators" title="Direct link to heading">​</a></h3><ul><li><p>arbitrary @TxIn is reasonably collision resistant</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100000 tests.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li><li><p>arbitrary @TxId is reasonably collision resistant</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100000 tests.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li><li><p>arbitrary @(VerificationKey PaymentKey) is reasonably collision resistant</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100000 tests.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li><li><p>arbitrary @(Hash PaymentKey) is reasonably collision resistant</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100000 tests.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li><li><p>genUTxOAlonzo does not generate collapsing values</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li><li><p>genUTxOAdaOnlyOfSize does not generate collapsing values</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li><li><p>genUTxOFor is reasonably collision resistant</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100000 tests.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li><li><p>genOneUTxOFor is reasonably collision resistant</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100000 tests.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="hydraheadlogic">Hydra.HeadLogic<a class="hash-link" href="#hydraheadlogic" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="coordinated-head-protocol">Coordinated Head Protocol<a class="hash-link" href="#coordinated-head-protocol" title="Direct link to heading">​</a></h3><ul><li><p>rejects if a requested tx is expired</p></li><li><p>waits if a requested tx is not (yet) applicable</p></li><li><p>confirms snapshot given it receives AckSn from all parties</p></li><li><p>does not confirm snapshot when given a non-matching signature produced from a different message</p></li><li><p>does not confirm snapshot when given a non-matching signature produced from a different key</p></li><li><p>waits if we receive a snapshot with not-yet-seen transactions</p></li><li><p>waits if we receive an AckSn for an unseen snapshot</p></li><li><p>waits if we receive a future snapshot</p></li><li><p>waits if we receive a future snapshot while collecting signatures</p></li><li><p>acks signed snapshot from the constant leader</p></li><li><p>does not ack snapshots from non-leaders</p></li><li><p>rejects too-old snapshots</p></li><li><p>rejects too-old snapshots when collecting signatures</p></li><li><p>wait given too new snapshots from the leader</p></li><li><p>rejects overlapping snapshot requests from the leader</p></li><li><p>ignores in-flight ReqTx when closed</p></li><li><p>notifies client when it receives a ping</p></li><li><p>cannot observe abort after collect com</p></li><li><p>cannot observe collect com after abort</p></li><li><p>notify user on head closing and when passing the contestation deadline</p></li><li><p>notify user on rollback</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li><li><p>contests when detecting close with old snapshot</p></li><li><p>re-contests when detecting contest with old snapshot</p></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="types">Types<a class="hash-link" href="#types" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_mojV" id="json-encoding-of-headstate-simpletx">JSON encoding of (HeadState SimpleTx)<a class="hash-link" href="#json-encoding-of-headstate-simpletx" title="Direct link to heading">​</a></h4><ul><li><p>allows to encode values with aeson and read them back</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li><li><p>produces the same JSON as is found in golden/HeadState SimpleTx.json</p></li></ul><h4 class="anchor anchorWithStickyNavbar_mojV" id="json-encoding-of-event-simpletx">JSON encoding of (Event SimpleTx)<a class="hash-link" href="#json-encoding-of-event-simpletx" title="Direct link to heading">​</a></h4><ul><li><p>allows to encode values with aeson and read them back</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li><li><p>produces the same JSON as is found in golden/Event SimpleTx.json</p></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="hydrafireforget">Hydra.FireForget<a class="hash-link" href="#hydrafireforget" title="Direct link to heading">​</a></h2><ul><li>client can send &#x27;Hail Hydra!&#x27; to server</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="hydracrypto">Hydra.Crypto<a class="hash-link" href="#hydracrypto" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="multisignature">MultiSignature<a class="hash-link" href="#multisignature" title="Direct link to heading">​</a></h3><ul><li><p>is sensitive to order</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests; 52 discarded.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="signature">Signature<a class="hash-link" href="#signature" title="Direct link to heading">​</a></h3><ul><li><p>show includes escaped hex</p></li><li><p>can sign arbitrary messages</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests; 32 discarded.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li><li><p>sign/verify roundtrip</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="verificationkey">VerificationKey<a class="hash-link" href="#verificationkey" title="Direct link to heading">​</a></h3><ul><li>show includes escaped hex</li></ul><h4 class="anchor anchorWithStickyNavbar_mojV" id="json-encoding-of-verificationkey-hydrakey">JSON encoding of (VerificationKey HydraKey)<a class="hash-link" href="#json-encoding-of-verificationkey-hydrakey" title="Direct link to heading">​</a></h4><ul><li><p>allows to encode values with aeson and read them back</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li><li><p>produces the same JSON as is found in golden/VerificationKey HydraKey.json</p></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="signingkey">SigningKey<a class="hash-link" href="#signingkey" title="Direct link to heading">​</a></h3><ul><li><p>show includes escaped hex</p></li><li><p>can be generated when seed exceeds the max seed size for algorithm</p></li><li><p>can be generated</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests; 31 discarded.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="hydrachaindirectwallet">Hydra.Chain.Direct.Wallet<a class="hash-link" href="#hydrachaindirectwallet" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="newtinywallet">newTinyWallet<a class="hash-link" href="#newtinywallet" title="Direct link to heading">​</a></h3><ul><li><p>initialises wallet by querying UTxO</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li><li><p>re-queries UTxO from the reset point</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="coverfee">coverFee<a class="hash-link" href="#coverfee" title="Direct link to heading">​</a></h3><ul><li><p>balances transaction with fees</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="applyblock">applyBlock<a class="hash-link" href="#applyblock" title="Direct link to heading">​</a></h3><ul><li><p>only reduces the UTXO set when no address is ours</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li><li><p>Seen inputs are consumed and not in the resulting UTXO</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="genblock--genutxo">genBlock / genUTxO<a class="hash-link" href="#genblock--genutxo" title="Direct link to heading">​</a></h3><ul><li><p>are well-suited for testing</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">44% has dependent txs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">28% has no tx that are ours</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="hydrachaindirecttx">Hydra.Chain.Direct.Tx<a class="hash-link" href="#hydrachaindirecttx" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="aborttx">abortTx<a class="hash-link" href="#aborttx" title="Direct link to heading">​</a></h3><ul><li><p>validates</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests (100% Success).</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li><li><p>cover fee correctly handles redeemers</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 60 tests (100% No fuel UTxO found).</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="collectcomtx">collectComTx<a class="hash-link" href="#collectcomtx" title="Direct link to heading">​</a></h3><ul><li><p>validates</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 10 tests.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="hydrachaindirecttimehandle">Hydra.Chain.Direct.TimeHandle<a class="hash-link" href="#hydrachaindirecttimehandle" title="Direct link to heading">​</a></h2><ul><li><p>can roundtrip currentPointInTime</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li><li><p>should convert slot within latest/current era</p></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="hydrachaindirectstate">Hydra.Chain.Direct.State<a class="hash-link" href="#hydrachaindirectstate" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="fanout">fanout<a class="hash-link" href="#fanout" title="Direct link to heading">​</a></h3><ul><li><p>transaction size is below 16kB</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">43% Fanout size: 50-70</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">37% Fanout size: 10-49</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">20% Fanout size: 00-10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">40% 15kB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">34% 13kB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">26% 14kB</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li><li><p>validates within maxTxExecutionUnits</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">43% Fanout size: 50-70</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">37% Fanout size: 10-49</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">20% Fanout size: 00-10</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="contest">contest<a class="hash-link" href="#contest" title="Direct link to heading">​</a></h3><ul><li><p>transaction size is below 16kB</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests (100% 9kB).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Close point (slot) (100 in total):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">100% &gt; 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Contestation period (100 in total):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">17% &gt; k blocks</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">15% &lt; k blocks</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">15% one month</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">15% one week</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">15% one year</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">12% k blocks on mainnet</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">11% one day</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li><li><p>validates within maxTxExecutionUnits</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Close point (slot) (100 in total):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">100% &gt; 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Contestation period (100 in total):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">17% &gt; k blocks</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">15% &lt; k blocks</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">15% one month</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">15% one week</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">15% one year</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">12% k blocks on mainnet</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">11% one day</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="close">close<a class="hash-link" href="#close" title="Direct link to heading">​</a></h3><ul><li><p>transaction size is below 16kB</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">95% ConfirmedSnapshot</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 5% InitialSnapshot</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">100% 9kB</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li><li><p>validates within maxTxExecutionUnits</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">95% ConfirmedSnapshot</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 5% InitialSnapshot</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="collectcom">collectCom<a class="hash-link" href="#collectcom" title="Direct link to heading">​</a></h3><ul><li><p>transaction size is below 16kB</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests (100% 13kB).</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li><li><p>validates within maxTxExecutionUnits</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="abort">abort<a class="hash-link" href="#abort" title="Direct link to heading">​</a></h3><ul><li><p>transaction size is below 16kB</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">35% Abort immediately, after 0 commits</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">34% Abort after some (but not all) commits</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">31% Abort after all commits</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">98% 13kB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 2% 14kB</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li><li><p>validates within maxTxExecutionUnits</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">35% Abort immediately, after 0 commits</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">34% Abort after some (but not all) commits</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">31% Abort after all commits</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li><li><p>ignore aborts of other heads</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="commit">commit<a class="hash-link" href="#commit" title="Direct link to heading">​</a></h3><ul><li><p>transaction size is below 16kB</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">92% Non-empty commit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 8% Empty commit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">100% 5kB</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li><li><p>validates within maxTxExecutionUnits</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">92% Non-empty commit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 8% Empty commit</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li><li><p>consumes all inputs that are committed</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">92% Non-empty commit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 8% Empty commit</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li><li><p>can only be applied / observed once</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">92% Non-empty commit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 8% Empty commit</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li><li><p>reject Commits of Byron outputs</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="init">init<a class="hash-link" href="#init" title="Direct link to heading">​</a></h3><ul><li><p>transaction size is below 16kB</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">58% 2+ parties</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">42% 1 party</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">74% 4kB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">26% 5kB</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li><li><p>validates within maxTxExecutionUnits</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">58% 2+ parties</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">42% 1 party</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li><li><p>is not observed if not invited</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests; 34 discarded.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="observetx">observeTx<a class="hash-link" href="#observetx" title="Direct link to heading">​</a></h3><ul><li><p>All valid transitions for all possible states can be observed.</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ChainTransition (100 in total):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">21% Close</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">20% Fanout</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">17% Contest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">14% Collect</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">14% Commit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">14% Init</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="chainstate">ChainState<a class="hash-link" href="#chainstate" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_mojV" id="json-encoding-of-chainstate">JSON encoding of ChainState<a class="hash-link" href="#json-encoding-of-chainstate" title="Direct link to heading">​</a></h4><ul><li><p>allows to encode values with aeson and read them back</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li><li><p>produces the same JSON as is found in golden/ChainState.json</p></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="hydrachaindirectscriptregistry">Hydra.Chain.Direct.ScriptRegistry<a class="hash-link" href="#hydrachaindirectscriptregistry" title="Direct link to heading">​</a></h2><ul><li><p>newScriptRegistry (registryUTxO r) === Just r</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="hydrachaindirecthandlers">Hydra.Chain.Direct.Handlers<a class="hash-link" href="#hydrachaindirecthandlers" title="Direct link to heading">​</a></h2><ul><li><p>roll forward results in Tick events</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li><li><p>roll forward fails with outdated TimeHandle</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li><li><p>yields observed transactions rolling forward</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">19% Init</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">18% Fanout</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">17% Close</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">17% Contest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">16% Commit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">13% Collect</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li><li><p>yields rollback events onRollBackward</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">18% Rollback to: ChainSlot 1 / 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">13% Rollback to: ChainSlot 2 / 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">13% Rollback to: ChainSlot 2 / 4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">12% Rollback to: ChainSlot 3 / 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">11% Rollback to: ChainSlot 1 / 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">11% Rollback to: ChainSlot 2 / 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 9% Rollback to: ChainSlot 1 / 4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 8% Rollback to: ChainSlot 3 / 4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 5% Rollback to: ChainSlot 4 / 4</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="hydrachaindirectcontract">Hydra.Chain.Direct.Contract<a class="hash-link" href="#hydrachaindirectcontract" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="fanout-1">Fanout<a class="hash-link" href="#fanout-1" title="Direct link to heading">​</a></h3><ul><li><p>is healthy</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 1 test.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li><li><p>does not survive random adversarial mutations</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FanoutMutation (100 in total):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">36% MutateValidityBeforeDeadline</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">33% MutateChangeOutputValue</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">31% MutateAddUnexpectedOutput</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="contest-1">Contest<a class="hash-link" href="#contest-1" title="Direct link to heading">​</a></h3><ul><li><p>is healthy</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 1 test.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li><li><p>does not survive random adversarial mutations</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ContestMutation (100 in total):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">21% MutateContestUTxOHash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">20% MutateValidityPastDeadline</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">17% MutateParties</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">14% MutateRequiredSigner</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">14% MutateSignatureButNotSnapshotNumber</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">14% MutateToNonNewerSnapshot</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="close-1">Close<a class="hash-link" href="#close-1" title="Direct link to heading">​</a></h3><ul><li><p>is healthy</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 1 test.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li><li><p>does not survive random adversarial mutations</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 200 tests.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CloseMutation (200 in total):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">14.5% MutateParties</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">13.5% MutateCloseUTxOHash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">13.0% MutateValidityInterval</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">12.5% MutateSignatureButNotSnapshotNumber</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">12.5% MutateSnapshotNumberButNotSignature</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">12.0% MutateCloseContestationDeadline</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">12.0% MutateRequiredSigner</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">10.0% MutateSnapshotToIllFormedValue</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="collectcom-1">CollectCom<a class="hash-link" href="#collectcom-1" title="Direct link to heading">​</a></h3><ul><li><p>is healthy</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 1 test.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li><li><p>does not survive random adversarial mutations</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CollectComMutation (100 in total):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">21% MutateNumberOfParties</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">20% MutateRequiredSigner</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">17% MutateHeadId</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">14% MutateHeadScriptInput</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">14% MutateHeadTransition</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">14% MutateOpenUTxOHash</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="commit-1">Commit<a class="hash-link" href="#commit-1" title="Direct link to heading">​</a></h3><ul><li><p>is healthy</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 1 test.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li><li><p>does not survive random adversarial mutations</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CommitMutation (100 in total):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">32% MutateRequiredSigner</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">27% MutateCommittedValue</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">21% MutateCommitOutputValue</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">20% MutateCommittedAddress</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="abort-1">Abort<a class="hash-link" href="#abort-1" title="Direct link to heading">​</a></h3><ul><li><p>is healthy</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li><li><p>does not survive random adversarial mutations</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 400 tests.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">AbortMutation (400 in total):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">13.0% MutateHeadId</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">12.8% UseInputFromOtherHead</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">12.5% DropCollectedInput</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">12.2% MutateThreadTokenQuantity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">12.0% BurnOneTokenMore</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">11.0% MutateParties</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 9.8% MutateHeadScriptInput</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 9.0% MutateRequiredSigner</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 7.8% DropOneCommitOutput</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="init-1">Init<a class="hash-link" href="#init-1" title="Direct link to heading">​</a></h3><ul><li><p>is healthy</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 1 test.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li><li><p>does not survive random adversarial mutations</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">InitMutation (100 in total):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">24% MutateDropSeedInput</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">21% MutateDropInitialOutput</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">20% MutateAddAnotherPT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">18% MutateInitialOutputValue</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">17% MutateThreadTokenQuantity</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="serializing-commits">Serializing commits<a class="hash-link" href="#serializing-commits" title="Direct link to heading">​</a></h3><ul><li><p>deserializeCommit . serializeCommit === id</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="txout-hashing">TxOut hashing<a class="hash-link" href="#txout-hashing" title="Direct link to heading">​</a></h3><ul><li><p>OffChain.hashUTxO == OnChain.hashTxOuts (on sorted tx outs)</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 20 tests.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li><li><p>OnChain.hashPreSerializedCommits == OnChain.hashTxOuts (on sorted tx outs)</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 20 tests.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="signature-validator">Signature validator<a class="hash-link" href="#signature-validator" title="Direct link to heading">​</a></h3><ul><li><p>verifies single signature produced off-chain</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li><li><p>verifies snapshot multi-signature for list of parties and signatures</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="hydrabehavior">Hydra.Behavior<a class="hash-link" href="#hydrabehavior" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="rolling-back--forward">rolling back &amp; forward<a class="hash-link" href="#rolling-back--forward" title="Direct link to heading">​</a></h3><ul><li>does work for rollbacks past init</li><li>does work for rollbacks past open</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="hydra-node-logging">Hydra Node Logging<a class="hash-link" href="#hydra-node-logging" title="Direct link to heading">​</a></h3><ul><li>traces processing of events</li><li>traces handling of effects</li></ul><h4 class="anchor anchorWithStickyNavbar_mojV" id="json-encoding-of-hydranodelog-simpletx">JSON encoding of (HydraNodeLog SimpleTx)<a class="hash-link" href="#json-encoding-of-hydranodelog-simpletx" title="Direct link to heading">​</a></h4><ul><li><p>allows to encode values with aeson and read them back</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li><li><p>produces the same JSON as is found in golden/HydraNodeLog SimpleTx.json</p></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="in-an-open-head">in an open head<a class="hash-link" href="#in-an-open-head" title="Direct link to heading">​</a></h3><ul><li>sees the head closed by other nodes</li><li>valid new transactions are seen by all parties</li><li>sending two conflicting transactions should lead one being confirmed and one expired</li><li>valid new transactions get snapshotted</li><li>reports transactions as seen only when they validate (against the confirmed ledger)</li><li>multiple transactions get snapshotted</li><li>outputs utxo from confirmed snapshot when client requests it</li><li>can be finalized by all parties after contestation period</li><li>contest automatically when detecting closing with old snapshot</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="two-participant-head">Two participant Head<a class="hash-link" href="#two-participant-head" title="Direct link to heading">​</a></h3><ul><li>only opens the head after all nodes committed</li><li>can abort and re-open a head when one party has not committed</li><li>cannot abort head when commits have been collected</li><li>cannot commit twice</li><li>outputs committed utxo when client requests it</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="single-participant-head">Single participant Head<a class="hash-link" href="#single-participant-head" title="Direct link to heading">​</a></h3><ul><li>accepts Init command</li><li>accepts Commit after successful Init</li><li>not accepts commits when the head is open</li><li>can close an open head</li><li>does not fanout automatically</li><li>does finalize head after contestation period upon command</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="sanity-tests-of-test-suite">Sanity tests of test suite<a class="hash-link" href="#sanity-tests-of-test-suite" title="Direct link to heading">​</a></h3><ul><li>does not delay for real</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="hydraapiserveroutput">Hydra.API.ServerOutput<a class="hash-link" href="#hydraapiserveroutput" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="json-encoding-of-reasonablysized-timedserveroutput-tx-babbageera">JSON encoding of (ReasonablySized (TimedServerOutput (Tx BabbageEra)))<a class="hash-link" href="#json-encoding-of-reasonablysized-timedserveroutput-tx-babbageera" title="Direct link to heading">​</a></h3><ul><li><p>allows to encode values with aeson and read them back</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li><li><p>produces the same JSON as is found in golden/ReasonablySized (TimedServerOutput (Tx BabbageEra)).json</p></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="json-encoding-of-reasonablysized-serveroutput-tx-babbageera">JSON encoding of (ReasonablySized (ServerOutput (Tx BabbageEra)))<a class="hash-link" href="#json-encoding-of-reasonablysized-serveroutput-tx-babbageera" title="Direct link to heading">​</a></h3><ul><li><p>allows to encode values with aeson and read them back</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li><li><p>produces the same JSON as is found in golden/ReasonablySized (ServerOutput (Tx BabbageEra)).json</p></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="json-encoding-of-reasonablysized-serveroutput-simpletx">JSON encoding of (ReasonablySized (ServerOutput SimpleTx))<a class="hash-link" href="#json-encoding-of-reasonablysized-serveroutput-simpletx" title="Direct link to heading">​</a></h3><ul><li><p>allows to encode values with aeson and read them back</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li><li><p>produces the same JSON as is found in golden/ReasonablySized (ServerOutput SimpleTx).json</p></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="hydraapiserver">Hydra.API.Server<a class="hash-link" href="#hydraapiserver" title="Direct link to heading">​</a></h2><ul><li><p>greets</p></li><li><p>sends sendOutput to all connected clients</p></li><li><p>sends all sendOutput history to all connected clients after a restart</p></li><li><p>echoes history (past outputs) to client upon reconnection</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">92% more than one message when reconnecting</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 5% no message when reconnecting</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 3% only one message when reconnecting</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li><li><p>sequence numbers are continuous and strictly monotonically increasing</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li><li><p>sends an error when input cannot be decoded</p></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="hydraapiclientinput">Hydra.API.ClientInput<a class="hash-link" href="#hydraapiclientinput" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="fromjson-validatedtx-era">FromJSON (ValidatedTx era)<a class="hash-link" href="#fromjson-validatedtx-era" title="Direct link to heading">​</a></h3><ul><li><p>accepts transactions produced via cardano-cli</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li><li><p>accepts raw CBOR-base16-encoded transactions</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="json-encoding-of-reasonablysized-clientinput-tx-babbageera">JSON encoding of (ReasonablySized (ClientInput (Tx BabbageEra)))<a class="hash-link" href="#json-encoding-of-reasonablysized-clientinput-tx-babbageera" title="Direct link to heading">​</a></h3><ul><li><p>allows to encode values with aeson and read them back</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li><li><p>produces the same JSON as is found in golden/ReasonablySized (ClientInput (Tx BabbageEra)).json</p></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="json-encoding-of-reasonablysized-clientinput-simpletx">JSON encoding of (ReasonablySized (ClientInput SimpleTx))<a class="hash-link" href="#json-encoding-of-reasonablysized-clientinput-simpletx" title="Direct link to heading">​</a></h3><ul><li><p>allows to encode values with aeson and read them back</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">+++ OK, passed 100 tests.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></li><li><p>produces the same JSON as is found in golden/ReasonablySized (ClientInput SimpleTx).json</p></li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/input-output-hk/hydra/tree/master/docs/benchmarks/tests/hydra-node/hspec-results.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_itvN"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/head-protocol/benchmarks/tests/hydra-cluster/hspec-results"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Test Results for hydra-cluster</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/head-protocol/benchmarks/tests/hydra-tui/hspec-results"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Test Results for hydra-tui</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#hydrasnapshotstrategy" class="table-of-contents__link toc-highlight">Hydra.SnapshotStrategy</a><ul><li><a href="#new-snapshot-decision" class="table-of-contents__link toc-highlight">New Snapshot Decision</a></li></ul></li><li><a href="#hydrapersistence" class="table-of-contents__link toc-highlight">Hydra.Persistence</a><ul><li><a href="#persistenceincremental" class="table-of-contents__link toc-highlight">PersistenceIncremental</a></li><li><a href="#persistence" class="table-of-contents__link toc-highlight">Persistence</a></li></ul></li><li><a href="#hydraparty" class="table-of-contents__link toc-highlight">Hydra.Party</a><ul><li><a href="#ord" class="table-of-contents__link toc-highlight">Ord</a></li><li><a href="#json-encoding-of-party" class="table-of-contents__link toc-highlight">JSON encoding of Party</a></li></ul></li><li><a href="#hydraoptions" class="table-of-contents__link toc-highlight">Hydra.Options</a><ul><li><a href="#hydra-node-runoptions" class="table-of-contents__link toc-highlight">Hydra Node RunOptions</a></li></ul></li><li><a href="#hydranode" class="table-of-contents__link toc-highlight">Hydra.Node</a></li><li><a href="#hydranetworkheartbeat" class="table-of-contents__link toc-highlight">Hydra.Network.Heartbeat</a></li><li><a href="#hydranetwork" class="table-of-contents__link toc-highlight">Hydra.Network</a><ul><li><a href="#serialisation" class="table-of-contents__link toc-highlight">Serialisation</a></li><li><a href="#ouroboros-network" class="table-of-contents__link toc-highlight">Ouroboros Network</a></li></ul></li><li><a href="#hydramodel" class="table-of-contents__link toc-highlight">Hydra.Model</a></li><li><a href="#hydraloggingmonitoring" class="table-of-contents__link toc-highlight">Hydra.Logging.Monitoring</a></li><li><a href="#hydralogging" class="table-of-contents__link toc-highlight">Hydra.Logging</a></li><li><a href="#hydraledgersimple" class="table-of-contents__link toc-highlight">Hydra.Ledger.Simple</a></li><li><a href="#hydraledgercardano" class="table-of-contents__link toc-highlight">Hydra.Ledger.Cardano</a><ul><li><a href="#json-encoding-of-tx-babbageera" class="table-of-contents__link toc-highlight">JSON encoding of (Tx BabbageEra)</a></li><li><a href="#json-encoding-of-utxo-txout-ctxutxo-babbageera" class="table-of-contents__link toc-highlight">JSON encoding of (UTxO&#39; (TxOut CtxUTxO BabbageEra))</a></li><li><a href="#json-encoding-of-assetname" class="table-of-contents__link toc-highlight">JSON encoding of AssetName</a></li><li><a href="#evaluate-helpers" class="table-of-contents__link toc-highlight">Evaluate helpers</a></li><li><a href="#generators" class="table-of-contents__link toc-highlight">Generators</a></li></ul></li><li><a href="#hydraheadlogic" class="table-of-contents__link toc-highlight">Hydra.HeadLogic</a><ul><li><a href="#coordinated-head-protocol" class="table-of-contents__link toc-highlight">Coordinated Head Protocol</a></li><li><a href="#types" class="table-of-contents__link toc-highlight">Types</a></li></ul></li><li><a href="#hydrafireforget" class="table-of-contents__link toc-highlight">Hydra.FireForget</a></li><li><a href="#hydracrypto" class="table-of-contents__link toc-highlight">Hydra.Crypto</a><ul><li><a href="#multisignature" class="table-of-contents__link toc-highlight">MultiSignature</a></li><li><a href="#signature" class="table-of-contents__link toc-highlight">Signature</a></li><li><a href="#verificationkey" class="table-of-contents__link toc-highlight">VerificationKey</a></li><li><a href="#signingkey" class="table-of-contents__link toc-highlight">SigningKey</a></li></ul></li><li><a href="#hydrachaindirectwallet" class="table-of-contents__link toc-highlight">Hydra.Chain.Direct.Wallet</a><ul><li><a href="#newtinywallet" class="table-of-contents__link toc-highlight">newTinyWallet</a></li><li><a href="#coverfee" class="table-of-contents__link toc-highlight">coverFee</a></li><li><a href="#applyblock" class="table-of-contents__link toc-highlight">applyBlock</a></li><li><a href="#genblock--genutxo" class="table-of-contents__link toc-highlight">genBlock / genUTxO</a></li></ul></li><li><a href="#hydrachaindirecttx" class="table-of-contents__link toc-highlight">Hydra.Chain.Direct.Tx</a><ul><li><a href="#aborttx" class="table-of-contents__link toc-highlight">abortTx</a></li><li><a href="#collectcomtx" class="table-of-contents__link toc-highlight">collectComTx</a></li></ul></li><li><a href="#hydrachaindirecttimehandle" class="table-of-contents__link toc-highlight">Hydra.Chain.Direct.TimeHandle</a></li><li><a href="#hydrachaindirectstate" class="table-of-contents__link toc-highlight">Hydra.Chain.Direct.State</a><ul><li><a href="#fanout" class="table-of-contents__link toc-highlight">fanout</a></li><li><a href="#contest" class="table-of-contents__link toc-highlight">contest</a></li><li><a href="#close" class="table-of-contents__link toc-highlight">close</a></li><li><a href="#collectcom" class="table-of-contents__link toc-highlight">collectCom</a></li><li><a href="#abort" class="table-of-contents__link toc-highlight">abort</a></li><li><a href="#commit" class="table-of-contents__link toc-highlight">commit</a></li><li><a href="#init" class="table-of-contents__link toc-highlight">init</a></li><li><a href="#observetx" class="table-of-contents__link toc-highlight">observeTx</a></li><li><a href="#chainstate" class="table-of-contents__link toc-highlight">ChainState</a></li></ul></li><li><a href="#hydrachaindirectscriptregistry" class="table-of-contents__link toc-highlight">Hydra.Chain.Direct.ScriptRegistry</a></li><li><a href="#hydrachaindirecthandlers" class="table-of-contents__link toc-highlight">Hydra.Chain.Direct.Handlers</a></li><li><a href="#hydrachaindirectcontract" class="table-of-contents__link toc-highlight">Hydra.Chain.Direct.Contract</a><ul><li><a href="#fanout-1" class="table-of-contents__link toc-highlight">Fanout</a></li><li><a href="#contest-1" class="table-of-contents__link toc-highlight">Contest</a></li><li><a href="#close-1" class="table-of-contents__link toc-highlight">Close</a></li><li><a href="#collectcom-1" class="table-of-contents__link toc-highlight">CollectCom</a></li><li><a href="#commit-1" class="table-of-contents__link toc-highlight">Commit</a></li><li><a href="#abort-1" class="table-of-contents__link toc-highlight">Abort</a></li><li><a href="#init-1" class="table-of-contents__link toc-highlight">Init</a></li><li><a href="#serializing-commits" class="table-of-contents__link toc-highlight">Serializing commits</a></li><li><a href="#txout-hashing" class="table-of-contents__link toc-highlight">TxOut hashing</a></li><li><a href="#signature-validator" class="table-of-contents__link toc-highlight">Signature validator</a></li></ul></li><li><a href="#hydrabehavior" class="table-of-contents__link toc-highlight">Hydra.Behavior</a><ul><li><a href="#rolling-back--forward" class="table-of-contents__link toc-highlight">rolling back &amp; forward</a></li><li><a href="#hydra-node-logging" class="table-of-contents__link toc-highlight">Hydra Node Logging</a></li><li><a href="#in-an-open-head" class="table-of-contents__link toc-highlight">in an open head</a></li><li><a href="#two-participant-head" class="table-of-contents__link toc-highlight">Two participant Head</a></li><li><a href="#single-participant-head" class="table-of-contents__link toc-highlight">Single participant Head</a></li><li><a href="#sanity-tests-of-test-suite" class="table-of-contents__link toc-highlight">Sanity tests of test suite</a></li></ul></li><li><a href="#hydraapiserveroutput" class="table-of-contents__link toc-highlight">Hydra.API.ServerOutput</a><ul><li><a href="#json-encoding-of-reasonablysized-timedserveroutput-tx-babbageera" class="table-of-contents__link toc-highlight">JSON encoding of (ReasonablySized (TimedServerOutput (Tx BabbageEra)))</a></li><li><a href="#json-encoding-of-reasonablysized-serveroutput-tx-babbageera" class="table-of-contents__link toc-highlight">JSON encoding of (ReasonablySized (ServerOutput (Tx BabbageEra)))</a></li><li><a href="#json-encoding-of-reasonablysized-serveroutput-simpletx" class="table-of-contents__link toc-highlight">JSON encoding of (ReasonablySized (ServerOutput SimpleTx))</a></li></ul></li><li><a href="#hydraapiserver" class="table-of-contents__link toc-highlight">Hydra.API.Server</a></li><li><a href="#hydraapiclientinput" class="table-of-contents__link toc-highlight">Hydra.API.ClientInput</a><ul><li><a href="#fromjson-validatedtx-era" class="table-of-contents__link toc-highlight">FromJSON (ValidatedTx era)</a></li><li><a href="#json-encoding-of-reasonablysized-clientinput-tx-babbageera" class="table-of-contents__link toc-highlight">JSON encoding of (ReasonablySized (ClientInput (Tx BabbageEra)))</a></li><li><a href="#json-encoding-of-reasonablysized-clientinput-simpletx" class="table-of-contents__link toc-highlight">JSON encoding of (ReasonablySized (ClientInput SimpleTx))</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Contributing</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/input-output-hk/hydra/wiki/Coding-Standards" target="_blank" rel="noopener noreferrer" class="footer__link-item">Coding Standards</a></li><li class="footer__item"><a class="footer__link-item" href="/head-protocol/adr">Architectural Decision Records</a></li><li class="footer__item"><a href="https://github.com/input-output-hk/hydra/wiki/Testing-Strategy" target="_blank" rel="noopener noreferrer" class="footer__link-item">Testing Strategy</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://discord.gg/Qq5vNTg9PT" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discord (#ask-hydra)<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/input-output-hk/hydra/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Github Discussions<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://cardano.stackexchange.com/questions/tagged/hydra" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Stack Exchange<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/head-protocol/docs/haskell_packages">Haskell Packages</a></li><li class="footer__item"><a href="https://github.com/input-output-hk/hydra/wiki/Logbook" target="_blank" rel="noopener noreferrer" class="footer__link-item">Logbook</a></li><li class="footer__item"><a href="https://iohk.io/en/blog" target="_blank" rel="noopener noreferrer" class="footer__link-item">Input Output (Blog)</a></li></ul></div><div class="col footer__col"><div class="footer__title">Legal</div><ul class="footer__items"><li class="footer__item"><a href="https://static.iohk.io/terms/iohktermsandconditions.pdf" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terms &amp; Conditions</a></li><li class="footer__item"><a href="https://static.iohk.io/terms/iog-privacy-policy.pdf" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy Policy</a></li><li class="footer__item"><a href="https://github.com/input-output-hk/hydra/graphs/contributors" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contributors</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">
          <small>
          Built with Docusaurus on 2022-11-18T09:23:26+01:00
          </small>
          </div></div></div></footer></div>
<script src="/head-protocol/assets/js/runtime~main.1810b07d.js"></script>
<script src="/head-protocol/assets/js/main.9425adb9.js"></script>
</body>
</html>